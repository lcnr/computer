# the stack pointer MEM[1][0] should always point above the last element on the stack
store:
    # store B, C and D on the stack
    mov 1 M2;
    mov 0 M1;
    mov mem A;
    mov A M1;
    mov B mem;
    mov 1 B;
    add A;
    mov A M1;
    mov C mem;
    add A;
    mov A M1;
    mov D mem;
    add A; # update stack pointer
    mov 0 M1;
    mov A mem;
load:
    # load D and C from the stack
    mov 1 M2;
    mov 0 M1;
    mov mem A;
    mov 1 B;
    sub A;
    mov A M1;
    mov mem D;
    sub A;
    mov A M1;
    mov mem C;
    mov 0 M1; # update stack pointer
    mov A mem;

